Resolving dependencies...
Downloading packages...
  _fe_analyzer_shared 67.0.0 (94.0.0 available)
  analyzer 6.4.1 (10.0.2 available)
  build 2.4.1 (4.0.4 available)
  build_config 1.1.2 (1.2.0 available)
  build_resolvers 2.4.2 (3.0.4 available)
  build_runner 2.4.13 (2.10.5 available)
  build_runner_core 7.3.2 (9.3.2 available)
  built_value 8.12.1 (8.12.3 available)
  characters 1.4.0 (1.4.1 available)
  code_builder 4.11.0 (4.11.1 available)
  connectivity_plus 6.1.5 (7.0.0 available)
  cross_file 0.3.5+1 (0.3.5+2 available)
  dart_style 2.3.6 (3.1.5 available)
  ffi 2.1.4 (2.1.5 available)
  file_picker 8.3.7 (10.3.10 available)
  flutter_launcher_icons 0.13.1 (0.14.4 available)
  flutter_lints 5.0.0 (6.0.0 available)
  flutter_markdown 0.7.7+1 (discontinued replaced by flutter_markdown_plus)
  flutter_riverpod 3.0.3 (3.2.0 available)
  go_router 17.0.0 (17.0.1 available)
  google_fonts 6.3.3 (8.0.0 available)
  google_mobile_ads 5.3.1 (7.0.0 available)
  image 4.5.4 (4.7.2 available)
  image_picker_android 0.8.13+10 (0.8.13+13 available)
  image_picker_ios 0.8.13+3 (0.8.13+6 available)
  json_annotation 4.9.0 (4.10.0 available)
  lints 5.1.1 (6.1.0 available)
  matcher 0.12.17 (0.12.18 available)
  material_color_utilities 0.11.1 (0.13.0 available)
  meta 1.17.0 (1.18.1 available)
  mockito 5.4.4 (5.6.3 available)
  path_provider_foundation 2.5.1 (2.6.0 available)
  riverpod 3.0.3 (3.2.0 available)
  shared_preferences 2.5.3 (2.5.4 available)
  shared_preferences_android 2.4.18 (2.4.20 available)
  shelf_web_socket 2.0.1 (3.0.0 available)
  source_gen 1.5.0 (4.2.0 available)
  source_helper 1.3.5 (1.3.10 available)
  test 1.26.3 (1.29.0 available)
  test_api 0.7.7 (0.7.9 available)
  test_core 0.6.12 (0.6.15 available)
  url_launcher_web 2.4.1 (2.4.2 available)
  watcher 1.1.4 (1.2.1 available)
  webview_flutter 4.13.0 (4.13.1 available)
Got dependencies!
1 package is discontinued.
43 packages have newer versions incompatible with dependency constraints.
Try `flutter pub outdated` for more information.
00:00 +0: loading /app/test/features/chat/chat_provider_test.dart                                                                                                                                      00:01 +0: loading /app/test/features/chat/chat_provider_test.dart                                                                                                                                      00:02 +0: loading /app/test/features/chat/chat_provider_test.dart                                                                                                                                      00:03 +0: loading /app/test/features/chat/chat_provider_test.dart                                                                                                                                      00:03 +0: /app/test/features/chat/chat_provider_test.dart: ChatNotifier maintains history and sends message correctly                                                                                  00:03 +1: /app/test/features/chat/chat_provider_test.dart: ChatNotifier maintains history and sends message correctly                                                                                  00:03 +1: /app/test/features/chat/chat_provider_test.dart: ChatNotifier handles streamed response correctly                                                                                            00:03 +2: /app/test/features/chat/chat_provider_test.dart: ChatNotifier handles streamed response correctly                                                                                            00:03 +2: /app/test/features/chat/chat_provider_test.dart: ChatNotifier updates settings correctly                                                                                                     00:03 +3: /app/test/features/chat/chat_provider_test.dart: ChatNotifier updates settings correctly                                                                                                     00:04 +3: /app/test/features/chat/chat_provider_test.dart: ChatNotifier updates settings correctly                                                                                                     00:04 +3: loading /app/test/features/chat/presentation/screens/chat_history_screen_render_test.dart                                                                                                    00:04 +3: /app/test/features/chat/presentation/screens/chat_history_screen_render_test.dart: ChatHistoryScreen uses CustomScrollView for performance                                                   00:05 +3: /app/test/features/chat/presentation/screens/chat_history_screen_render_test.dart: ChatHistoryScreen uses CustomScrollView for performance                                                   00:05 +4: /app/test/features/chat/presentation/widgets/chat_bubble_test.dart: ChatBubble displays content and updates star status                                                                      00:05 +5: /app/test/features/chat/presentation/widgets/chat_bubble_test.dart: ChatBubble displays content and updates star status                                                                      00:06 +5: /app/test/features/chat/presentation/widgets/chat_bubble_test.dart: ChatBubble displays content and updates star status                                                                      00:06 +5: loading /app/test/features/chat/presentation/widgets/chat_input_test.dart                                                                                                                    00:06 +5: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                                00:07 +5: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                                00:07 +6: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                                00:07 +7: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                                00:07 +8: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                                00:07 +9: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                                00:07 +10: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                               00:08 +10: /app/test/features/chat/presentation/widgets/chat_input_test.dart: ChatInput has maxLength set to AppConstants.maxInputLength                                                               00:08 +10: loading /app/test/core/utils/url_validator_test.dart                                                                                                                                        00:08 +10: /app/test/core/utils/url_validator_test.dart: UrlValidator allows http and https                                                                                                            00:08 +11: /app/test/core/utils/url_validator_test.dart: UrlValidator allows http and https                                                                                                            00:08 +11: /app/test/core/utils/url_validator_test.dart: UrlValidator allows mailto                                                                                                                    00:08 +12: /app/test/core/utils/url_validator_test.dart: UrlValidator allows mailto                                                                                                                    00:08 +12: /app/test/core/utils/url_validator_test.dart: UrlValidator blocks javascript scheme                                                                                                         00:08 +13: /app/test/core/utils/url_validator_test.dart: UrlValidator blocks javascript scheme                                                                                                         00:08 +13: /app/test/core/utils/url_validator_test.dart: UrlValidator blocks file scheme                                                                                                               00:08 +14: /app/test/core/utils/url_validator_test.dart: UrlValidator blocks file scheme                                                                                                               00:08 +14: /app/test/core/utils/url_validator_test.dart: UrlValidator blocks unknown schemes                                                                                                           00:08 +15: /app/test/core/utils/url_validator_test.dart: UrlValidator blocks unknown schemes                                                                                                           00:08 +15: /app/test/core/utils/url_validator_test.dart: UrlValidator handles invalid uris                                                                                                             00:08 +16: /app/test/core/utils/url_validator_test.dart: UrlValidator handles invalid uris                                                                                                             00:08 +16: /app/test/core/utils/url_validator_test.dart: UrlValidator handles mixed case schemes                                                                                                       00:08 +17: /app/test/core/utils/url_validator_test.dart: UrlValidator handles mixed case schemes                                                                                                       00:08 +17: /app/test/core/utils/url_validator_test.dart: UrlValidator isHttpUrlString strictly enforces http/https                                                                                     00:08 +18: /app/test/core/utils/url_validator_test.dart: UrlValidator isHttpUrlString strictly enforces http/https                                                                                     00:08 +18: loading /app/test/widget_test.dart                                                                                                                                                          00:08 +18: /app/test/widget_test.dart: App smoke test                                                                                                                                                  00:08 +19: /app/test/widget_test.dart: App smoke test                                                                                                                                                  00:09 +19: /app/test/widget_test.dart: App smoke test                                                                                                                                                  00:09 +19: loading /app/test/services/storage_service_csv_injection_test.dart                                                                                                                          00:09 +19: /app/test/services/storage_service_csv_injection_test.dart: StorageService CSV Injection Security exportToCsv escapes malicious formula characters                                          00:09 +20: /app/test/services/storage_service_csv_injection_test.dart: StorageService CSV Injection Security exportToCsv escapes malicious formula characters                                          00:09 +20: /app/test/services/storage_service_csv_injection_test.dart: StorageService CSV Injection Security exportToCsv escapes malicious characters with quoting                                     00:09 +21: /app/test/services/storage_service_csv_injection_test.dart: StorageService CSV Injection Security exportToCsv escapes malicious characters with quoting                                     00:10 +21: /app/test/services/storage_service_csv_injection_test.dart: StorageService CSV Injection Security exportToCsv escapes malicious characters with quoting                                     00:10 +21: loading /app/test/services/ollama_service_test.dart                                                                                                                                         00:10 +21: /app/test/services/ollama_service_test.dart: OllamaService Tests generateChatStream prepends system prompt correctly                                                                        00:10 +22: /app/test/services/ollama_service_test.dart: OllamaService Tests generateChatStream prepends system prompt correctly                                                                        00:10 +22: /app/test/services/ollama_service_test.dart: OllamaService Tests generateChatStream includes options (temperature, top_p)                                                                   00:10 +23: /app/test/services/ollama_service_test.dart: OllamaService Tests generateChatStream includes options (temperature, top_p)                                                                   00:10 +23: /app/test/services/ollama_service_test.dart: OllamaService Tests generateChatStream sends correct history                                                                                   00:10 +24: /app/test/services/ollama_service_test.dart: OllamaService Tests generateChatStream sends correct history                                                                                   00:10 +24: loading /app/test/services/ollama_service_security_test.dart                                                                                                                                00:10 +24: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl throws ArgumentError for invalid schemes                                                   00:10 +25: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl throws ArgumentError for invalid schemes                                                   00:10 +25: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl throws ArgumentError for non-url strings                                                   00:10 +26: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl throws ArgumentError for non-url strings                                                   00:10 +26: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl accepts valid http/https urls                                                              00:10 +27: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl accepts valid http/https urls                                                              00:11 +27: /app/test/services/ollama_service_security_test.dart: OllamaService Security Tests updateBaseUrl accepts valid http/https urls                                                              00:11 +27: loading /app/test/services/storage_service_statistics_test.dart                                                                                                                             00:11 +27: /app/test/services/storage_service_statistics_test.dart: StorageService Statistics Tests getUsageStatistics calculates correct values                                                       00:11 +28: /app/test/services/storage_service_statistics_test.dart: StorageService Statistics Tests getUsageStatistics calculates correct values                                                       00:11 +28: /app/test/services/storage_service_statistics_test.dart: StorageService Statistics Tests getUsageStatistics handles empty data                                                              00:11 +29: /app/test/services/storage_service_statistics_test.dart: StorageService Statistics Tests getUsageStatistics handles empty data                                                              00:11 +29: loading /app/test/services/storage_service_settings_export_test.dart                                                                                                                        00:11 +29: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData includes settings when requested                                              00:11 +30: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData includes settings when requested                                              00:11 +30: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData excludes settings when not requested                                          00:11 +31: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData excludes settings when not requested                                          00:11 +31: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData excludes settings by default                                                  00:11 +32: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData excludes settings by default                                                  00:12 +32: /app/test/services/storage_service_settings_export_test.dart: StorageService Settings Export Tests exportData excludes settings by default                                                  00:12 +32: loading /app/test/services/storage_service_pin_test.dart                                                                                                                                    00:12 +32: /app/test/services/storage_service_pin_test.dart: StorageService Pinning togglePin adds and removes pin and logs activity                                                                   00:12 +33: /app/test/services/storage_service_pin_test.dart: StorageService Pinning togglePin adds and removes pin and logs activity                                                                   00:12 +33: loading /app/test/services/pdf_export_service_test.dart                                                                                                                                     00:12 +33: /app/test/services/pdf_export_service_test.dart: PdfExportService generates PDF data                                                                                                        00:12 +33: /app/test/services/pdf_export_service_test.dart: PdfExportService generates PDF data
Helvetica-Bold has no Unicode support see https://github.com/DavBfr/dart_pdf/wiki/Fonts-Management
Helvetica has no Unicode support see https://github.com/DavBfr/dart_pdf/wiki/Fonts-Management
Unable to find a font to draw "â€¢" (U+2022) try to provide a TextStyle.fontFallback
00:13 +34: /app/test/services/pdf_export_service_test.dart: PdfExportService generates PDF data                                                                                                        00:13 +34: loading /app/test/services/storage_service_markdown_test.dart                                                                                                                               00:13 +34: /app/test/services/storage_service_markdown_test.dart: StorageService - Markdown Export Escapes malicious Markdown structure in messages                                                    00:13 +35: /app/test/services/storage_service_markdown_test.dart: StorageService - Markdown Export Escapes malicious Markdown structure in messages                                                    00:13 +35: /app/test/services/storage_service_markdown_test.dart: StorageService - Markdown Export Preserves multiline content in blockquotes                                                          00:13 +36: /app/test/services/storage_service_markdown_test.dart: StorageService - Markdown Export Preserves multiline content in blockquotes                                                          00:14 +36: /app/test/services/storage_service_markdown_test.dart: StorageService - Markdown Export Preserves multiline content in blockquotes                                                          00:14 +36: loading /app/test/services/storage_service_export_test.dart                                                                                                                                 00:14 +36: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportData filters by chatIds                                                                              00:14 +37: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportData filters by chatIds                                                                              00:14 +37: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportData includes all if chatIds is null                                                                 00:14 +38: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportData includes all if chatIds is null                                                                 00:14 +38: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportToCsv filters by chatIds                                                                             00:14 +39: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportToCsv filters by chatIds                                                                             00:14 +39: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportToMarkdown filters by chatIds                                                                        00:14 +40: /app/test/services/storage_service_export_test.dart: StorageService Export Tests exportToMarkdown filters by chatIds                                                                        00:14 +40: loading /app/test/services/storage_service_log_test.dart                                                                                                                                    00:14 +40: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportData logs activity                                                                                  00:14 +41: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportData logs activity                                                                                  00:14 +41: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportToCsv logs activity                                                                                 00:14 +42: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportToCsv logs activity                                                                                 00:14 +42: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportToMarkdown logs activity                                                                            00:14 +43: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportToMarkdown logs activity                                                                            00:14 +43: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportActivityLogsToCsv logs activity and returns correct format                                          00:14 +44: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportActivityLogsToCsv logs activity and returns correct format                                          00:14 +44: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportActivityLogsToJson logs activity and returns correct format                                         00:14 +45: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportActivityLogsToJson logs activity and returns correct format                                         00:15 +45: /app/test/services/storage_service_log_test.dart: StorageService Activity Logging exportActivityLogsToJson logs activity and returns correct format                                         00:15 +45: loading /app/test/services/ollama_service_pull_streaming_test.dart                                                                                                                          00:15 +45: /app/test/services/ollama_service_pull_streaming_test.dart: OllamaService Pull Streaming Tests pullModel handles split JSON chunks correctly                                                00:15 +46: /app/test/services/ollama_service_pull_streaming_test.dart: OllamaService Pull Streaming Tests pullModel handles split JSON chunks correctly                                                00:15 +46: loading /app/test/services/storage_service_search_test.dart                                                                                                                                 00:15 +46: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by query (case insensitive)                                                                00:15 +47: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by query (case insensitive)                                                                00:15 +47: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by query (no match)                                                                        00:15 +48: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by query (no match)                                                                        00:15 +48: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by message content                                                                         00:15 +49: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by message content                                                                         00:15 +49: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by message content (assistant response)                                                    00:15 +50: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Search by message content (assistant response)                                                    00:15 +50: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Filter by Model                                                                                   00:15 +51: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Filter by Model                                                                                   00:15 +51: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Filter by Date (Last 7 days)                                                                      00:15 +52: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Filter by Date (Last 7 days)                                                                      00:15 +52: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Combined Filter (Query + Model)                                                                   00:15 +53: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Combined Filter (Query + Model)                                                                   00:15 +53: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Combined Filter (Query + Date)                                                                    00:15 +54: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Combined Filter (Query + Date)                                                                    00:15 +54: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Get Available Models                                                                              00:15 +55: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Get Available Models                                                                              00:16 +55: /app/test/services/storage_service_search_test.dart: StorageService Search & Filter Logic Get Available Models                                                                              00:16 +55: loading /app/test/services/csv_security_test.dart                                                                                                                                           00:16 +55: /app/test/services/csv_security_test.dart: CSV Injection Security Should escape fields starting with dangerous characters                                                                   00:16 +56: /app/test/services/csv_security_test.dart: CSV Injection Security Should escape fields starting with dangerous characters                                                                   00:16 +56: /app/test/services/csv_security_test.dart: CSV Injection Security Should escape fields starting with Tab and Carriage Return                                                                00:16 +57: /app/test/services/csv_security_test.dart: CSV Injection Security Should escape fields starting with Tab and Carriage Return                                                                00:16 +57: /app/test/services/csv_security_test.dart: CSV Injection Security Should escape fields starting with whitespace and dangerous characters                                                    00:16 +58: /app/test/services/csv_security_test.dart: CSV Injection Security Should escape fields starting with whitespace and dangerous characters                                                    00:16 +58: loading /app/test/services/ollama_service_streaming_test.dart                                                                                                                               00:16 +58: /app/test/services/ollama_service_streaming_test.dart: OllamaService Streaming Tests generateChatStream handles split JSON chunks correctly                                                 00:17 +58: /app/test/services/ollama_service_streaming_test.dart: OllamaService Streaming Tests generateChatStream handles split JSON chunks correctly                                                 00:17 +58: /app/test/services/ollama_service_streaming_test.dart: OllamaService Streaming Tests generateChatStream handles split JSON chunks correctly
Collected output: [Hello , world!]
00:17 +59: /app/test/services/ollama_service_streaming_test.dart: OllamaService Streaming Tests generateChatStream handles split JSON chunks correctly                                                 00:17 +59: All tests passed!
